<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>ZRainna的博客-详情</title>
    <link type="text/css" rel="stylesheet" href="./css/base.css" />
    <link type="text/css" rel="stylesheet" href="./css/page.css" />
    <link type="text/css" rel="stylesheet" href="https://cdn.bootcss.com/github-markdown-css/2.10.0/github-markdown.min.css" />
  </head>
  
  <body>
    <div class="m-page">
      <div class="m-box">
        <div class="m-introduce f-flexr">
    <div class="logo"><img src="https://avatars.githubusercontent.com/u/5309877?s=460&v=4"></div>
    <div class="f-ml25 f-flex-1">
        <p class="f-mb10 f-fs26">Zrainna</p>
        <p class="f-fs12 s-fc6">比较懒，什么都没介绍。。。。。</p>
    </div>
</div>
      </div>
      
      <div class="m-box">
        <div class="m-menu f-flexr f-fs16 f-tac">
    <div class="item"><a href="./index.html">首页</a></div>
    <div class="item"><a href="./article.html">文章</a></div>
    <div class="item"><a href="./book.html">书库</a></div>
    <div class="item"><a href="./demo.html">Demo</a></div>
</div>
        
        <h1 id="篇6：呈现页面前端性能测试报告二">篇6：呈现页面前端性能测试报告二</h1>
<h2 id="环境说明">环境说明</h2>
<ul>
<li>测试URL：
<a href="https://pages.kaola.com/pages/activity/j6itd6uupagert.shtml">https://pages.kaola.com/pages/activity/j6itd6uupagert.shtml</a></li>
<li>工具网址： <a href="https://developers.google.com/speed/pagespeed/insights/">https://developers.google.com/speed/pagespeed/insights/</a></li>
<li>适配端：移动设备</li>
<li>网络条件：公司网络</li>
</ul>
<h2 id="结果分析">结果分析</h2>
<table>
<thead>
<tr>
<th>网址</th>
<th>总评分(满分100)</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://pages.kaola.com/pages/activity/j6itd6uupagert.shtml">https://pages.kaola.com/pages/activity/j6itd6uupagert.shtml</a></td>
<td>58</td>
<td>移动设备，呈现系统活动页</td>
</tr>
<tr>
<td><a href="https://m.kaola.com/activity/h5/34220.shtml">https://m.kaola.com/activity/h5/34220.shtml</a></td>
<td>46</td>
<td>移动设备，超市活动页</td>
</tr>
</tbody></table>
<p>上一次评分的结果是50分，这次结果是58分，比上次多了8分。上一次的评测结果见链接:<a href="https://163.lu/k/IjvYL1%E3%80%82">https://163.lu/k/IjvYL1。</a> 虽然这个结果没有太大的意义，但是至少说明做的优化还是有效果的。那做了哪些优化呢？下面大致介绍下：</p>
<h3 id="第一点：图片的优化">第一点：图片的优化</h3>
<ul>
<li>所有图片加上nos裁剪参数，优化图片大小。</li>
<li>控制首次加载时图片的请求数，查看每一个图片请求，是不是必须的。即使是小图，也做懒加载处理。</li>
<li>图片懒加载增加渐显效果，在img标签的src属性替换成真实图片路径时，添加animation动画样式。</li>
<li>调整页面滚动时懒加载方法的执行频率。</li>
<li>背景图也做懒加载。</li>
<li>图片尺寸的调整，根据设备像素比返回不同尺寸的图片。比如PC图为1倍图，移动端为2或3倍图。</li>
<li>页面上删除使用base64编码的图片代码，使用nos图片路径代替。</li>
</ul>
<h3 id="第二点：请求合并，减少请求数">第二点：请求合并，减少请求数</h3>
<ul>
<li>将基础脚本common.js,vendor.js,vendor-h5.js,init.js合并。</li>
<li>将基础样式vendor.css,vendor-h5.css,index.css合并。</li>
<li>图标使用iconfont字体文件，不使用图片。</li>
<li>减少dns寻址时间，做dns的预加载。添加dns-prefetch,preload资源路径。</li>
</ul>
<h3 id="第三点：使用浏览器缓存">第三点：使用浏览器缓存</h3>
<ul>
<li>静态文件域名更换成cdn域名。避免cdn污染，测试环境走nginx，上线后走cdn。</li>
<li>不同的静态资源设置不同的缓存有效期。框架数据的缓存时间为2分钟。首屏接口，组件异步数据获取接口的缓存时间目前为10秒。css,js,font缓存在cdn，缓存时间为30天。</li>
</ul>

      </div>
    </div>
  </body>
</html>



