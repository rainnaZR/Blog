<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>ZRainna的博客-详情</title>
    <link type="text/css" rel="stylesheet" href="./css/base.css" />
    <link type="text/css" rel="stylesheet" href="./css/page.css" />
    <link type="text/css" rel="stylesheet" href="https://cdn.bootcss.com/github-markdown-css/2.10.0/github-markdown.min.css" />
  </head>
  
  <body>
    <div class="m-page">
      <div class="m-box">
        <div class="m-introduce f-flexr">
    <div class="logo"><img src="https://avatars.githubusercontent.com/u/5309877?s=460&v=4"></div>
    <div class="f-ml25 f-flex-1">
        <p class="f-mb10 f-fs26">Zrainna</p>
        <p class="f-fs12 s-fc6">比较懒，什么都没介绍。。。。。</p>
    </div>
</div>
      </div>
      
      <div class="m-box">
        <div class="m-menu f-flexr f-mb40 f-fs16 f-tac">
    <div class="item"><a href="./index.html">首页</a></div>
    <div class="item"><a href="./article.html">文章</a></div>
    <div class="item"><a href="./book.html">书库</a></div>
    <div class="item"><a href="./demo.html">Demo</a></div>
</div>
        
        <div class="markdown-body"><h1>HTTP请求中的Form Data与Request Payload的区别</h1><p>前端开发中经常会用到AJAX发送异步请求，对于POST类型的请求会附带请求数据。而常用的两种传参方式为：Form Data 和 Request Payload。</p>
<p><img src="https://user-images.githubusercontent.com/5309877/29163614-9ac78ea4-7def-11e7-9067-77d73a5d841c.jpg" alt="121212"></p>
<p><img src="https://user-images.githubusercontent.com/5309877/29163628-a3e89d48-7def-11e7-869a-1f818fd97149.jpg" alt="334343"></p>
<h2 id="get请求">GET请求</h2>
<p>使用get请求时，参数会以key=value的形式拼接在请求的url后面。例如：</p>
<pre><code>http://m.baidu.com/address/getlist.html?limit=50&amp;offset=0&amp;t=1502345139870
</code></pre>
<p>但是受限于请求URL的长度限制，一般参数较少时会使用get请求。</p>
<h2 id="post请求">POST请求</h2>
<p>当参数数量较多，且对数据有一定安全性要求时，会考虑用post请求传递参数数据。POST请求的参数数据是在请求体中。</p>
<h4 id="方式一：-form-data形式">方式一： Form Data形式</h4>
<p>当POST请求的请求头里设置Content-Type: application/x-www-form-urlencoded(默认), 参数在请求体以标准的Form Data的形式提交，以&amp;符号拼接，参数格式为key=value&amp;key=value&amp;key=value...</p>
<p><img src="https://user-images.githubusercontent.com/5309877/29163839-45a49736-7df0-11e7-8f49-56b6744ca3fc.jpg" alt="3333"></p>
<p><img src="https://user-images.githubusercontent.com/5309877/29163614-9ac78ea4-7def-11e7-9067-77d73a5d841c.jpg" alt="121212"></p>
<p>前端代码设置：</p>
<pre><code>xhr.setRequestHeader(&#39;Content-type&#39;, &#39;application/x-www-form-urlencoded&#39;);
xhr.send(&#39;a=1&amp;b=2&amp;c=3&#39;);</code></pre>
<p>在servlet中，后端可以通过request.getParameter(name)的形式来获取表单参数。</p>
<h4 id="方式二：request-payload形式">方式二：Request Payload形式</h4>
<p>如果使用AJAX原生POST请求,请求头里设置Content-Type:application/json，请求的参数会显示在Request Payload中，参数格式为JSON格式：{&quot;key&quot;:&quot;value&quot;,&quot;key&quot;:&quot;value&quot;...}，这种方式可读性会更好。</p>
<p><img src="https://user-images.githubusercontent.com/5309877/29163866-5b0876ec-7df0-11e7-873b-44731e1becc1.jpg" alt="444"></p>
<p><img src="https://user-images.githubusercontent.com/5309877/29163628-a3e89d48-7def-11e7-869a-1f818fd97149.jpg" alt="334343"></p>
<p>后端可以使用getRequestPayload方法来获取。</p>
<h2 id="form-data-和-request-payload-区别">Form Data 和 Request Payload 区别</h2>
<ol>
<li><p>如果请求头里设置Content-Type: application/x-www-form-urlencoded，那么这个请求被认为是表单请求，参数出现在Form Data里，格式为key=value&amp;key=value&amp;key=value...</p>
</li>
<li><p>原生的AJAX请求头里设置Content-Type:application/json，或者使用默认的请求头Content-Type:text/plain;参数会显示在Request payload块里提交。</p>
</li>
</ol>
<p><strong>参考文档：</strong></p>
<p><a href="http://www.cnblogs.com/btgyoyo/p/6141480.html">http://www.cnblogs.com/btgyoyo/p/6141480.html</a></p>
<p><a href="http://xiaobaoqiu.github.io/blog/2014/09/04/form-data-vs-request-payload/">http://xiaobaoqiu.github.io/blog/2014/09/04/form-data-vs-request-payload/</a></p>
</div>
      </div>
    </div>
  </body>
</html>



